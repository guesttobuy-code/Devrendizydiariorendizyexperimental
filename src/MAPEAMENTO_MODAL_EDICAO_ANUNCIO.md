# ğŸ¨ MAPEAMENTO MODAL EDIÃ‡ÃƒO DE ANÃšNCIO - RENDIZY

**Data:** 28 de Outubro de 2025  
**VersÃ£o:** v1.0.103.3  
**Objetivo:** Mapear estrutura completa para modal de ediÃ§Ã£o de anÃºncios

---

## ğŸ“¸ ANÃLISE DA IMAGEM DE REFERÃŠNCIA

### **ESTRUTURA VISUAL IDENTIFICADA**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RU021 - Aires3 Novo - Barra da Tijuca RJ           [Ir p/ outro]  â”‚
â”‚  [ATIVO â–¼]                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚                    FOTO PRINCIPAL                      â”‚  ğŸ“· âš™ï¸  â”‚
â”‚  â”‚                                                        â”‚         â”‚
â”‚  â”‚  Apto Alto PadrÃ£o Infraestrutura                      â”‚  100%   â”‚
â”‚  â”‚  Barra da Tijuca - Rio de Janeiro                     â”‚         â”‚
â”‚  â”‚  ğŸ›ï¸ 1   ğŸ‘¤ 4   ğŸš¿ 2   ğŸ“ 1                              â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ›ï¸ ConteÃºdo] [ğŸ’° Financeiro] [ğŸŒ DistribuiÃ§Ã£o] [âš™ï¸ Auxiliares] [ğŸ“…]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸ   Tipo                                                       >   â”‚
â”‚      Tipo de anÃºncio, categoria, prioridade comercial...           â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“  LocalizaÃ§Ã£o                                                >   â”‚
â”‚      EndereÃ§o, arredores...                                         â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“  Amenities do endereÃ§o                                      >   â”‚
â”‚      Estacionamento, elevadores, serviÃ§os em geral...               â”‚
â”‚                                                                     â”‚
â”‚  ğŸ›ï¸  CÃ´modos                                                     >   â”‚
â”‚      Camas, inventÃ¡rio, fotos, vÃ­deo...                             â”‚
â”‚                                                                     â”‚
â”‚  âš¡  Amenities do anÃºncio                                        >   â”‚
â”‚      Internet, mÃ¡quina de lavar, itens de cozinha...                â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“„  ConteÃºdo descritivo                                         >   â”‚
â”‚      Nome, tÃ­tulo, descriÃ§Ã£o, como chegar...                        â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“¢  Regras da acomodaÃ§Ã£o                                        >   â”‚
â”‚      CrianÃ§as, animais, horÃ¡rio de silÃªncio...                      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ SEÃ‡Ã•ES IDENTIFICADAS

### **1. HEADER/NAVEGAÃ‡ÃƒO**

#### **Componentes:**
- **Breadcrumb/CÃ³digo:** RU021 - Aires3 Novo - Barra da Tijuca RJ
- **Dropdown NavegaÃ§Ã£o:** "Ir para outro anÃºncio"
- **Status Badge:** ATIVO (com dropdown para mudar)

#### **Dados NecessÃ¡rios:**
```typescript
{
  id: string;              // RU021
  internalName: string;    // Aires3 Novo
  publicName?: string;     // Nome pÃºblico diferente?
  address: {
    neighborhood: string;  // Barra da Tijuca
    city: string;         // Rio de Janeiro
  };
  status: 'active' | 'inactive' | 'draft' | 'maintenance';
}
```

---

### **2. HERO SECTION (FOTO + INFO)**

#### **Componentes:**
- **Foto Principal Grande** (com overlay)
- **BotÃµes de AÃ§Ã£o:**
  - ğŸ“· Gerenciar fotos
  - âš™ï¸ ConfiguraÃ§Ãµes rÃ¡pidas
- **Overlay Info:**
  - Nome destaque (pÃºblico)
  - LocalizaÃ§Ã£o completa
  - **Ãcones de Capacidade:**
    - ğŸ›ï¸ 1 quarto
    - ğŸ‘¤ 4 pessoas
    - ğŸš¿ 2 banheiros
    - ğŸ“ ? (Ã¡rea? outras info?)
  - **Badge de Completude:** 100%

#### **Dados NecessÃ¡rios:**
```typescript
{
  coverPhoto: string;          // URL da foto principal
  photos: string[];            // Array de fotos
  publicName: string;          // "Apto Alto PadrÃ£o Infraestrutura"
  displayLocation: string;     // "Barra da Tijuca - Rio de Janeiro"
  capacity: {
    bedrooms: number;         // 1
    maxGuests: number;        // 4
    bathrooms: number;        // 2
    area?: number;            // mÂ² (?)
  };
  completeness: number;       // 0-100 (%)
}
```

---

### **3. TABS HORIZONTAIS**

#### **Identificadas:**

| Tab | Ãcone | FunÃ§Ã£o |
|-----|-------|--------|
| **ConteÃºdo** | ğŸ›ï¸ | InformaÃ§Ãµes bÃ¡sicas, fotos, descriÃ§Ã£o |
| **Financeiro** | ğŸ’° | PreÃ§os, polÃ­ticas de cancelamento, taxas |
| **DistribuiÃ§Ã£o** | ğŸŒ | Canais (Airbnb, Booking.com), sincronizaÃ§Ã£o |
| **Auxiliares** | âš™ï¸ | ConfiguraÃ§Ãµes adicionais, integraÃ§Ãµes |
| **CalendÃ¡rio** | ğŸ“… | Disponibilidade, bloqueios, reservas |

---

### **4. MENU VERTICAL (ACCORDION)**

Cada seÃ§Ã£o Ã© expansÃ­vel e leva a um sub-formulÃ¡rio/modal.

---

## ğŸ“‹ MAPEAMENTO DETALHADO DAS SEÃ‡Ã•ES

### **SEÃ‡ÃƒO 1: TIPO**

#### **UI:**
```
ğŸ   Tipo                                                       >
    Tipo de anÃºncio, categoria, prioridade comercial...
```

#### **Dados Mapeados:**

| Campo | Tipo | JÃ¡ Temos? | Onde EstÃ¡? |
|-------|------|-----------|------------|
| Tipo de anÃºncio | `PropertyType` | âœ… SIM | `Property.type` |
| Categoria | `string` | âŒ NÃƒO | - |
| Prioridade comercial | `number` | âŒ NÃƒO | - |
| Estrutura fÃ­sica | `string` | âš ï¸ PARCIAL | CreateModal tem |

**No Backend:**
```typescript
// JÃ TEMOS:
type: PropertyType = 'apartment' | 'house' | 'studio' | 'loft' | 'condo' | 'villa' | 'other'

// FALTA ADICIONAR:
category?: string;              // 'standard', 'premium', 'luxury'
priority?: number;              // 1-5 (ordem de exibiÃ§Ã£o)
visibility?: 'public' | 'private' | 'hidden';
```

---

### **SEÃ‡ÃƒO 2: LOCALIZAÃ‡ÃƒO**

#### **UI:**
```
ğŸ“  LocalizaÃ§Ã£o                                                >
    EndereÃ§o, arredores...
```

#### **Dados Mapeados:**

| Campo | Tipo | JÃ¡ Temos? | Onde EstÃ¡? |
|-------|------|-----------|------------|
| Rua | `string` | âœ… SIM | `Property.address.street` |
| NÃºmero | `string` | âœ… SIM | `Property.address.number` |
| Complemento | `string` | âœ… SIM | `Property.address.complement` |
| Bairro | `string` | âœ… SIM | `Property.address.neighborhood` |
| Cidade | `string` | âœ… SIM | `Property.address.city` |
| Estado | `string` | âœ… SIM | `Property.address.state` |
| CEP | `string` | âœ… SIM | `Property.address.zipCode` |
| PaÃ­s | `string` | âœ… SIM | `Property.address.country` |
| Coordenadas GPS | `{lat, lng}` | âš ï¸ PARCIAL | Location tem |
| Arredores/Pontos | `string[]` | âŒ NÃƒO | - |

**No Backend:**
```typescript
// JÃ TEMOS: Property.address completo

// FALTA ADICIONAR:
address: {
  // ... campos existentes
  coordinates?: {
    lat: number;
    lng: number;
  };
  nearbyPlaces?: {
    name: string;           // "Praia de Copacabana"
    distance: number;       // metros
    type: 'beach' | 'restaurant' | 'supermarket' | 'transport' | 'attraction';
  }[];
  directions?: string;      // InstruÃ§Ãµes de como chegar
}
```

---

### **SEÃ‡ÃƒO 3: AMENITIES DO ENDEREÃ‡O**

#### **UI:**
```
ğŸ“  Amenities do endereÃ§o                                      >
    Estacionamento, elevadores, serviÃ§os em geral...
```

#### **Dados Mapeados:**

| Campo | Tipo | JÃ¡ Temos? | Onde EstÃ¡? |
|-------|------|-----------|------------|
| Estacionamento | `boolean` | âš ï¸ PARCIAL | Location.buildingAccess.hasParking |
| Tipo estacionamento | `enum` | âš ï¸ PARCIAL | Location.buildingAccess.parkingType |
| Elevador | `boolean` | âš ï¸ PARCIAL | Location.buildingAccess.hasElevator |
| Portaria 24h | `boolean` | âš ï¸ PARCIAL | Location.sharedAmenities |
| Amenities prÃ©dio | `string[]` | âš ï¸ PARCIAL | Location.sharedAmenities |

**Conceito:**
- Estes sÃ£o amenities do **prÃ©dio/condomÃ­nio** (Location)
- Diferentes dos amenities da **unidade** (Property)

**No Backend:**
```typescript
// JÃ TEMOS:
Location {
  sharedAmenities: string[];    // ['piscina', 'academia', 'elevador']
  buildingAccess: {
    hasElevator: boolean;
    hasParking: boolean;
    parkingType?: 'gratuito' | 'pago' | 'rotativo';
  }
}

// SUGESTÃƒO:
// Diferenciar amenities de Property vs Location
// Property.amenities = dentro da unidade
// Location.sharedAmenities = do prÃ©dio/condomÃ­nio
```

---

### **SEÃ‡ÃƒO 4: CÃ”MODOS**

#### **UI:**
```
ğŸ›ï¸  CÃ´modos                                                     >
    Camas, inventÃ¡rio, fotos, vÃ­deo...
```

#### **Dados Mapeados:**

| Campo | Tipo | JÃ¡ Temos? | Onde EstÃ¡? |
|-------|------|-----------|------------|
| Quartos | `Room[]` | âœ… SIM | `Room` type completo |
| Camas por quarto | `Bed[]` | âœ… SIM | `Room.beds` |
| Tipo de cama | `BedType` | âœ… SIM | `Bed.type` |
| Banheiros | `Room[]` | âœ… SIM | `Room` (tipo banheiro) |
| Fotos por cÃ´modo | `RoomPhoto[]` | âœ… SIM | `Room.photos` |
| Tags de fotos | `RoomPhotoTag` | âœ… SIM | 17 tags definidas |
| VÃ­deo | `string` | âŒ NÃƒO | - |

**No Backend:**
```typescript
// JÃ TEMOS SISTEMA COMPLETO DE ROOMS!
Room {
  id: string;
  accommodationId: string;
  type: RoomType;           // 11 tipos de cÃ´modos
  beds: Bed[];
  photos: RoomPhoto[];
  isShared: boolean;
  hasLock: boolean;
}

Bed {
  type: BedType;            // 11 tipos de camas
  quantity: number;
  capacity: number;
}

RoomPhoto {
  url: string;
  tag: RoomPhotoTag;        // 17 tags
  isMain: boolean;
}

// FALTA ADICIONAR:
videoUrl?: string;          // URL do vÃ­deo do imÃ³vel
virtualTourUrl?: string;    // URL do tour virtual 360Â°
```

---

### **SEÃ‡ÃƒO 5: AMENITIES DO ANÃšNCIO**

#### **UI:**
```
âš¡  Amenities do anÃºncio                                        >
    Internet, mÃ¡quina de lavar, itens de cozinha...
```

#### **Dados Mapeados:**

| Campo | Tipo | JÃ¡ Temos? | Onde EstÃ¡? |
|-------|------|-----------|------------|
| Amenities | `string[]` | âœ… SIM | `Property.amenities` |
| Categorias | `AmenityCategory` | âœ… SIM | `amenities-data.ts` |
| Total amenities | 252 items | âœ… SIM | 13 categorias |

**No Backend:**
```typescript
// JÃ TEMOS SISTEMA COMPLETO!
Property {
  amenities: string[];      // Array de IDs
}

// Database completo em amenities-data.ts:
- 252 amenities
- 13 categorias
- Mapeamento Airbnb/Booking.com/VRBO
- Ãcones e descriÃ§Ãµes

Categorias:
1. Acessibilidade (8)
2. Ao ar livre / Vista (34)
3. Banheiro (28)
4. ClimatizaÃ§Ã£o (3)
5. Cozinha e Sala de Jantar (33)
6. Entretenimento (48)
7. Estacionamento e InstalaÃ§Ãµes (21)
8. FamÃ­lia (17)
9. Internet e EscritÃ³rio (13)
10. Limpeza e DesinfecÃ§Ã£o (4)
11. Quarto e Lavanderia (27)
12. SeguranÃ§a DomÃ©stica (22)
13. ServiÃ§os (11)
```

---

### **SEÃ‡ÃƒO 6: CONTEÃšDO DESCRITIVO**

#### **UI:**
```
ğŸ“„  ConteÃºdo descritivo                                         >
    Nome, tÃ­tulo, descriÃ§Ã£o, como chegar...
```

#### **Dados Mapeados:**

| Campo | Tipo | JÃ¡ Temos? | Onde EstÃ¡? |
|-------|------|-----------|------------|
| Nome interno | `string` | âœ… SIM | `Property.name` |
| Nome pÃºblico | `string` | âš ï¸ PARCIAL | `Property.publicName?` |
| TÃ­tulo do anÃºncio | `string` | âŒ NÃƒO | - |
| DescriÃ§Ã£o completa | `string` | âœ… SIM | `Property.description` |
| DescriÃ§Ã£o curta | `string` | âœ… SIM | `Property.shortDescription` |
| Como chegar | `string` | âš ï¸ PARCIAL | Location.buildingAccess.instructions |
| Idiomas | `object` | âŒ NÃƒO | - |

**No Backend:**
```typescript
// JÃ TEMOS:
Property {
  name: string;                 // Nome interno
  description?: string;         // DescriÃ§Ã£o longa
  shortDescription?: string;    // DescriÃ§Ã£o curta
}

// FALTA ADICIONAR:
publicName?: string;            // Nome pÃºblico (diferente do interno)
title?: string;                 // TÃ­tulo do anÃºncio
highlights?: string[];          // Destaques (bullets)
houseRules?: string;           // Regras da casa (texto)
checkInInstructions?: string;  // InstruÃ§Ãµes de check-in
checkOutInstructions?: string; // InstruÃ§Ãµes de check-out
accessInstructions?: string;   // Como acessar o imÃ³vel

// MultilÃ­ngue (futuro):
translations?: {
  [locale: string]: {
    title: string;
    description: string;
    shortDescription: string;
    highlights: string[];
  }
}
```

---

### **SEÃ‡ÃƒO 7: REGRAS DA ACOMODAÃ‡ÃƒO**

#### **UI:**
```
ğŸ“¢  Regras da acomodaÃ§Ã£o                                        >
    CrianÃ§as, animais, horÃ¡rio de silÃªncio...
```

#### **Dados Mapeados:**

| Campo | Tipo | JÃ¡ Temos? | Onde EstÃ¡? |
|-------|------|-----------|------------|
| CrianÃ§as permitidas | `boolean` | âŒ NÃƒO | - |
| Idade mÃ­nima crianÃ§as | `number` | âŒ NÃƒO | - |
| Animais permitidos | `boolean` | âŒ NÃƒO | - |
| Tipos de animais | `string[]` | âŒ NÃƒO | - |
| Taxa pet | `number` | âŒ NÃƒO | - |
| Fumantes | `boolean` | âŒ NÃƒO | - |
| Eventos | `boolean` | âŒ NÃƒO | - |
| HorÃ¡rio silÃªncio | `{start, end}` | âŒ NÃƒO | - |
| HorÃ¡rio check-in | `string` | âš ï¸ PARCIAL | Reservation tem |
| HorÃ¡rio check-out | `string` | âš ï¸ PARCIAL | Reservation tem |
| Regras personalizadas | `string[]` | âŒ NÃƒO | - |

**No Backend:**
```typescript
// PRECISAMOS CRIAR:
PropertyRules {
  id: string;
  propertyId: string;
  
  // HÃ³spedes
  allowChildren: boolean;
  minChildAge?: number;           // Idade mÃ­nima
  maxGuests: number;              // JÃ¡ existe em Property
  
  // Animais
  allowPets: boolean;
  allowedPetTypes?: ('dog' | 'cat' | 'bird' | 'other')[];
  maxPets?: number;
  petFee?: number;                // Taxa por pet (centavos)
  petDeposit?: number;            // DepÃ³sito (centavos)
  
  // Fumantes
  allowSmoking: boolean;
  smokingAreas?: string[];        // ['varanda', 'Ã¡rea externa']
  
  // Eventos
  allowEvents: boolean;
  allowParties: boolean;
  maxEventGuests?: number;
  
  // HorÃ¡rios
  quietHours?: {
    start: string;                // "22:00"
    end: string;                  // "08:00"
  };
  checkInTime: {
    start: string;                // "14:00"
    end: string;                  // "22:00"
    flexible: boolean;
  };
  checkOutTime: {
    time: string;                 // "11:00"
    flexible: boolean;
  };
  
  // Regras customizadas
  customRules?: {
    text: string;
    required: boolean;            // Regra obrigatÃ³ria?
  }[];
  
  // Metadata
  createdAt: string;
  updatedAt: string;
}
```

---

## ğŸ’° TAB FINANCEIRO (SUGERIDA)

NÃ£o visÃ­vel na imagem, mas essencial:

### **SeÃ§Ãµes:**

#### **1. PreÃ§os Base**
```typescript
// JÃ TEMOS:
Property.pricing {
  basePrice: number;              // PreÃ§o base (centavos)
  currency: Currency;
  weeklyDiscount: number;         // %
  biweeklyDiscount: number;       // %
  monthlyDiscount: number;        // %
}
```

#### **2. Taxas Adicionais**
```typescript
// FALTA ADICIONAR:
fees: {
  cleaningFee?: number;           // Taxa de limpeza (centavos)
  serviceFee?: number;            // Taxa de serviÃ§o (%)
  extraGuestFee?: {               // Taxa por hÃ³spede extra
    threshold: number;            // A partir de X hÃ³spedes
    amount: number;               // Valor por hÃ³spede (centavos)
  };
  petFee?: number;                // Taxa por pet
  
  // Taxas municipais
  cityTax?: {
    type: 'fixed' | 'percentage';
    value: number;
    appliesTo: 'total' | 'nights';
  };
  touristTax?: {
    perNight: number;             // Por noite (centavos)
    maxNights?: number;           // MÃ¡ximo de noites aplicÃ¡vel
  };
}
```

#### **3. PolÃ­ticas de Cancelamento**
```typescript
// FALTA ADICIONAR:
cancellationPolicy: {
  type: 'flexible' | 'moderate' | 'strict' | 'super_strict' | 'custom';
  
  // Custom policy
  rules?: {
    daysBeforeCheckIn: number;    // Dias antes do check-in
    refundPercentage: number;     // % de reembolso
  }[];
  
  description?: string;
}
```

#### **4. DepÃ³sitos**
```typescript
// FALTA ADICIONAR:
deposit: {
  required: boolean;
  amount: number;                 // Valor (centavos)
  type: 'fixed' | 'percentage';   // Fixo ou % do total
  refundable: boolean;
  refundDays?: number;            // Dias para devolver
  holdMethod?: 'credit_card' | 'pix' | 'transfer';
}
```

---

## ğŸŒ TAB DISTRIBUIÃ‡ÃƒO (SUGERIDA)

### **SeÃ§Ãµes:**

#### **1. Canais de DistribuiÃ§Ã£o**
```typescript
// JÃ TEMOS PARCIAL:
Property.platforms {
  airbnb?: {
    enabled: boolean;
    listingId: string;
    syncEnabled: boolean;
  };
  booking?: {
    enabled: boolean;
    listingId: string;
    syncEnabled: boolean;
  };
  direct: boolean;
}

// FALTA ADICIONAR:
platforms: {
  // ... canais existentes
  expedia?: { /* ... */ };
  vrbo?: { /* ... */ };
  decolar?: { /* ... */ };
  
  // ConfiguraÃ§Ãµes globais
  syncCalendar: boolean;          // Sincronizar calendÃ¡rio
  syncPrices: boolean;            // Sincronizar preÃ§os
  syncAvailability: boolean;      // Sincronizar disponibilidade
  masterCalendar?: 'rendizy' | 'airbnb' | 'booking';
}
```

#### **2. iCal URLs**
```typescript
// Sistema jÃ¡ existe em ICalManager!
iCalFeeds: {
  import: {
    airbnb?: string;              // URL iCal do Airbnb
    booking?: string;             // URL iCal do Booking
    vrbo?: string;                // URL iCal do VRBO
  };
  export: string;                 // URL iCal gerado pelo Rendizy
}
```

---

## âš™ï¸ TAB AUXILIARES (SUGERIDA)

### **SeÃ§Ãµes:**

#### **1. ConfiguraÃ§Ãµes de ExibiÃ§Ã£o**
```typescript
// JÃ TEMOS PARCIAL:
Property {
  tags: string[];                 // Tags
  color?: string;                 // Cor no calendÃ¡rio
  folder?: string;                // Pasta/categoria
}

// FALTA ADICIONAR:
display: {
  featured: boolean;              // Destaque na listagem
  priority: number;               // Ordem (1-5)
  showAddress: boolean;           // Mostrar endereÃ§o completo
  showMap: boolean;               // Mostrar mapa
  instantBooking: boolean;        // Reserva instantÃ¢nea
}
```

#### **2. NotificaÃ§Ãµes**
```typescript
// FALTA ADICIONAR:
notifications: {
  newReservation: boolean;
  cancellation: boolean;
  checkInReminder: boolean;
  checkOutReminder: boolean;
  reviewReceived: boolean;
  priceAlert: boolean;
  channels: ('email' | 'whatsapp' | 'sms')[];
}
```

#### **3. AutomaÃ§Ãµes**
```typescript
// FALTA ADICIONAR:
automations: {
  autoConfirm: boolean;           // Auto-confirmar reservas
  autoPrice: boolean;             // Ajuste automÃ¡tico de preÃ§os
  minimumGap: number;             // Dias entre reservas
  preparationTime: number;        // Tempo de preparo (jÃ¡ existe em restrictions)
}
```

---

## ğŸ“Š CÃLCULO DE COMPLETUDE

Badge "100%" na foto:

```typescript
function calculateCompleteness(property: Property): number {
  const checks = [
    // BÃ¡sico (40%)
    property.name,                          // 5%
    property.code,                          // 5%
    property.type,                          // 5%
    property.address?.street,               // 5%
    property.address?.city,                 // 5%
    property.maxGuests > 0,                 // 5%
    property.bedrooms > 0,                  // 5%
    property.pricing?.basePrice > 0,        // 5%
    
    // DescriÃ§Ã£o (20%)
    property.description,                   // 10%
    property.shortDescription,              // 10%
    
    // Fotos (20%)
    property.photos?.length >= 5,           // 10%
    property.coverPhoto,                    // 10%
    
    // Amenities (10%)
    property.amenities?.length >= 10,       // 10%
    
    // Regras (10%)
    // property.rules?.checkInTime,         // 5%
    // property.rules?.checkOutTime,        // 5%
  ];
  
  const completed = checks.filter(Boolean).length;
  return Math.round((completed / checks.length) * 100);
}
```

---

## ğŸ—ï¸ ESTRUTURA PROPOSTA PARA MODAL

### **OpÃ§Ã£o A: Tabs Horizontais + Accordion**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header com Breadcrumb e Status                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Hero Section (Foto + Info + Completude)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ConteÃºdo] [Financeiro] [DistribuiÃ§Ã£o] [Auxiliares]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â–¼ Tipo                                                     â”‚
â”‚  â–¶ LocalizaÃ§Ã£o                                              â”‚
â”‚  â–¶ Amenities do EndereÃ§o                                    â”‚
â”‚  â–¶ CÃ´modos                                                  â”‚
â”‚  â–¶ Amenities do AnÃºncio                                     â”‚
â”‚  â–¶ ConteÃºdo Descritivo                                      â”‚
â”‚  â–¶ Regras da AcomodaÃ§Ã£o                                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Pros:**
- âœ… OrganizaÃ§Ã£o clara por contexto
- âœ… NavegaÃ§Ã£o rÃ¡pida
- âœ… Menos scroll
- âœ… Similar Ã  imagem

**Contras:**
- âš ï¸ Muitos nÃ­veis de hierarquia
- âš ï¸ Pode confundir usuÃ¡rio

---

### **OpÃ§Ã£o B: Wizard Multi-Step (RECOMENDADO)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Editar AnÃºncio - RU021                            [X]      â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”           â”‚
â”‚  â—â”â”â”â—‹â”â”â—‹â”â”â—‹â”â”â—‹                              5/7 (71%)     â”‚
â”‚  BÃ¡sico  LocalizaÃ§Ã£o  CÃ´modos  Amenities  Regras           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [ConteÃºdo do Step Atual]                                  â”‚
â”‚                                                             â”‚
â”‚  - FormulÃ¡rio especÃ­fico da seÃ§Ã£o                          â”‚
â”‚  - Preview em tempo real                                   â”‚
â”‚  - ValidaÃ§Ãµes inline                                       â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â—€ Anterior]           [Salvar Rascunho]  [PrÃ³ximo â–¶]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Steps Sugeridos:**

1. **InformaÃ§Ãµes BÃ¡sicas** (10 campos)
   - Nome, cÃ³digo, tipo, status
   - Capacidade (hÃ³spedes, quartos, banheiros)
   - PreÃ§o base, moeda
   
2. **LocalizaÃ§Ã£o** (8 campos)
   - EndereÃ§o completo
   - Coordenadas GPS (mapa)
   - Arredores, como chegar

3. **CÃ´modos e Fotos** (gerenciador visual)
   - Grid de cÃ´modos
   - Upload de fotos por cÃ´modo
   - VÃ­deo e tour virtual

4. **Amenities** (seletor multi-categoria)
   - 13 categorias
   - Busca e filtros
   - SeleÃ§Ã£o mÃºltipla

5. **ConteÃºdo Descritivo** (4 campos)
   - TÃ­tulos e descriÃ§Ãµes
   - Destaques
   - InstruÃ§Ãµes de acesso

6. **Regras e PolÃ­ticas** (10 campos)
   - Check-in/out
   - CrianÃ§as, pets, fumantes
   - HorÃ¡rio silÃªncio
   - Regras personalizadas

7. **Financeiro** (8 campos)
   - Taxas adicionais
   - Descontos
   - DepÃ³sito
   - PolÃ­tica de cancelamento

8. **DistribuiÃ§Ã£o** (opcional)
   - Canais ativos
   - SincronizaÃ§Ã£o
   - iCal feeds

**Pros:**
- âœ… ProgressÃ£o clara
- âœ… Menos sobrecarga cognitiva
- âœ… ValidaÃ§Ã£o por etapa
- âœ… Salvar rascunho a qualquer momento
- âœ… Barra de progresso motivadora
- âœ… Facilita preenchimento completo

**Contras:**
- âš ï¸ Mais passos para completar
- âš ï¸ NecessÃ¡rio navegaÃ§Ã£o entre steps

---

### **OpÃ§Ã£o C: Single-Page com Sticky Navigation**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Voltar    Editar: RU021 - Aires3 Novo      [Salvar]     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ â€¢ BÃ¡sico            â”‚  [ConteÃºdo Principal]              â”‚
â”‚  â”‚ â€¢ LocalizaÃ§Ã£o       â”‚                                    â”‚
â”‚  â”‚ â€¢ CÃ´modos           â”‚  Scroll vertical com todas         â”‚
â”‚  â”‚ â€¢ Amenities         â”‚  as seÃ§Ãµes expandidas              â”‚
â”‚  â”‚ â€¢ DescriÃ§Ã£o         â”‚                                    â”‚
â”‚  â”‚ â€¢ Regras            â”‚  NavegaÃ§Ã£o via sidebar             â”‚
â”‚  â”‚ â€¢ Financeiro        â”‚  ou scroll                         â”‚
â”‚  â”‚ â€¢ DistribuiÃ§Ã£o      â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Pros:**
- âœ… VisÃ£o geral completa
- âœ… EdiÃ§Ã£o rÃ¡pida de qualquer campo
- âœ… NavegaÃ§Ã£o via anchor links
- âœ… Bom para usuÃ¡rios avanÃ§ados

**Contras:**
- âš ï¸ Muito scroll
- âš ï¸ Pode ser overwhelming
- âš ï¸ Performance com muitos campos

---

## ğŸ¯ RECOMENDAÃ‡ÃƒO FINAL

### **WIZARD MULTI-STEP (OpÃ§Ã£o B)**

**Motivos:**

1. **ProgressÃ£o Clara:** UsuÃ¡rio sabe exatamente onde estÃ¡ e quanto falta
2. **ValidaÃ§Ã£o por Etapa:** Evita erros e garante dados completos
3. **Menos Overhead:** Foco em um contexto por vez
4. **Completude:** Incentiva preenchimento 100%
5. **Mobile Friendly:** Funciona bem em telas menores
6. **Similar ao CriaÃ§Ã£o:** MantÃ©m consistÃªncia com CreateIndividualPropertyModal

### **Estrutura dos Steps:**

```typescript
const EDIT_STEPS = [
  {
    id: 'basic',
    title: 'InformaÃ§Ãµes BÃ¡sicas',
    icon: Home,
    fields: ['name', 'code', 'type', 'capacity', 'pricing'],
    validation: 'required'
  },
  {
    id: 'location',
    title: 'LocalizaÃ§Ã£o',
    icon: MapPin,
    fields: ['address', 'coordinates', 'nearby'],
    validation: 'required'
  },
  {
    id: 'rooms',
    title: 'CÃ´modos e Fotos',
    icon: BedDouble,
    component: RoomsManager,
    validation: 'optional'
  },
  {
    id: 'amenities',
    title: 'Amenities',
    icon: Sparkles,
    component: AmenitiesSelector,
    validation: 'recommended'
  },
  {
    id: 'content',
    title: 'DescriÃ§Ã£o',
    icon: FileText,
    fields: ['description', 'highlights', 'instructions'],
    validation: 'required'
  },
  {
    id: 'rules',
    title: 'Regras',
    icon: AlertCircle,
    fields: ['checkIn', 'pets', 'smoking', 'customRules'],
    validation: 'required'
  },
  {
    id: 'financial',
    title: 'Financeiro',
    icon: DollarSign,
    fields: ['fees', 'deposit', 'cancellation'],
    validation: 'optional'
  },
  {
    id: 'distribution',
    title: 'Canais',
    icon: Share2,
    fields: ['platforms', 'ical', 'sync'],
    validation: 'optional'
  }
];
```

---

## ğŸ“¦ TIPOS TYPESCRIPT NECESSÃRIOS

```typescript
// ============================================================================
// PROPERTY RULES (NOVO)
// ============================================================================

export interface PropertyRules {
  id: string;
  propertyId: string;
  
  // HÃ³spedes
  allowChildren: boolean;
  minChildAge?: number;
  maxGuests: number;
  
  // Animais
  allowPets: boolean;
  allowedPetTypes?: ('dog' | 'cat' | 'bird' | 'other')[];
  maxPets?: number;
  petFee?: number;
  petDeposit?: number;
  
  // Outros
  allowSmoking: boolean;
  smokingAreas?: string[];
  allowEvents: boolean;
  allowParties: boolean;
  
  // HorÃ¡rios
  quietHours?: { start: string; end: string; };
  checkInTime: { start: string; end: string; flexible: boolean; };
  checkOutTime: { time: string; flexible: boolean; };
  
  // Custom
  customRules?: { text: string; required: boolean; }[];
  
  createdAt: string;
  updatedAt: string;
}

// ============================================================================
// PROPERTY FEES (NOVO)
// ============================================================================

export interface PropertyFees {
  id: string;
  propertyId: string;
  
  cleaningFee?: number;
  serviceFee?: number;
  extraGuestFee?: {
    threshold: number;
    amount: number;
  };
  petFee?: number;
  
  cityTax?: {
    type: 'fixed' | 'percentage';
    value: number;
  };
  touristTax?: {
    perNight: number;
    maxNights?: number;
  };
  
  createdAt: string;
  updatedAt: string;
}

// ============================================================================
// CANCELLATION POLICY (NOVO)
// ============================================================================

export interface CancellationPolicy {
  id: string;
  propertyId: string;
  
  type: 'flexible' | 'moderate' | 'strict' | 'super_strict' | 'custom';
  
  customRules?: {
    daysBeforeCheckIn: number;
    refundPercentage: number;
  }[];
  
  description?: string;
  
  createdAt: string;
  updatedAt: string;
}

// ============================================================================
// PROPERTY DEPOSIT (NOVO)
// ============================================================================

export interface PropertyDeposit {
  id: string;
  propertyId: string;
  
  required: boolean;
  amount: number;
  type: 'fixed' | 'percentage';
  refundable: boolean;
  refundDays?: number;
  holdMethod?: 'credit_card' | 'pix' | 'transfer';
  
  createdAt: string;
  updatedAt: string;
}

// ============================================================================
// ATUALIZAR PROPERTY (ADICIONAR)
// ============================================================================

export interface Property {
  // ... campos existentes
  
  // ADICIONAR:
  publicName?: string;
  title?: string;
  highlights?: string[];
  videoUrl?: string;
  virtualTourUrl?: string;
  
  category?: 'standard' | 'premium' | 'luxury';
  priority?: number;
  visibility?: 'public' | 'private' | 'hidden';
  
  checkInInstructions?: string;
  checkOutInstructions?: string;
  accessInstructions?: string;
  
  // Relacionamentos (IDs)
  rulesId?: string;
  feesId?: string;
  cancellationPolicyId?: string;
  depositId?: string;
}
```

---

## ğŸš€ PRÃ“XIMOS PASSOS

### **Fase 1: Backend (Tipos e Rotas)**

1. âœ… Adicionar novos tipos ao `types.ts`
2. âœ… Criar rotas em `routes-rules.ts`
3. âœ… Criar rotas em `routes-fees.ts`
4. âœ… Atualizar `routes-properties.ts` para incluir relacionamentos

### **Fase 2: Frontend (Componente)**

1. âœ… Criar `EditPropertyModal.tsx`
2. âœ… Implementar wizard multi-step
3. âœ… Criar formulÃ¡rios por step
4. âœ… Integrar com backend
5. âœ… Adicionar validaÃ§Ãµes
6. âœ… Implementar barra de progresso

### **Fase 3: IntegraÃ§Ãµes**

1. âœ… Integrar com PropertiesManagement.tsx
2. âœ… Adicionar botÃ£o "Editar" nos cards
3. âœ… Carregar dados existentes
4. âœ… Sincronizar com calendÃ¡rio

---

## ğŸ“ CONCLUSÃƒO

Mapeamento completo da estrutura de ediÃ§Ã£o de anÃºncios baseado na imagem fornecida e cruzado com os dados jÃ¡ existentes no backend do RENDIZY.

**Principais Descobertas:**

âœ… **JÃ TEMOS:**
- Sistema completo de Properties
- Sistema completo de Rooms e Beds
- Sistema completo de Amenities (252 items)
- Sistema completo de Locations
- EndereÃ§o completo
- Pricing e descontos
- Plataformas e sincronizaÃ§Ã£o

âŒ **FALTA IMPLEMENTAR:**
- PropertyRules (regras da acomodaÃ§Ã£o)
- PropertyFees (taxas adicionais)
- CancellationPolicy (polÃ­tica de cancelamento)
- PropertyDeposit (depÃ³sito)
- Campos adicionais em Property (publicName, title, etc.)
- Completeness calculation

**RecomendaÃ§Ã£o:**
Implementar modal de ediÃ§Ã£o no formato **Wizard Multi-Step** com 8 steps, mantendo consistÃªncia com o modal de criaÃ§Ã£o existente.

---

**RENDIZY v1.0.103.3**  
**"Mapeamento Completo Modal EdiÃ§Ã£o"**  
**28 de Outubro de 2025**

# ğŸ”‘ CONFIGURAÃ‡ÃƒO STAYS.NET - SUA CASA RENDE MAIS

**VersÃ£o:** v1.0.103.23  
**Data:** 29 de Outubro de 2025  
**Status:** âœ… CREDENCIAIS RECEBIDAS - PRONTO PARA CONFIGURAR  

---

## ğŸ“‹ SEUS DADOS DE ACESSO

### Sistema Stays.net
```
URL do Sistema: https://bvm.stays.net
Nome da Conta:  Sua Casa Rende Mais
```

### Credenciais API
```
Login: a5146970
Senha: bfcf4daf
```

### Base URL da API
```
https://bvm.stays.net/api
```

**âš ï¸ IMPORTANTE:** Essas credenciais sÃ£o confidenciais. NÃ£o compartilhe com terceiros.

---

## ğŸš€ PASSO A PASSO - CONFIGURAÃ‡ÃƒO NO RENDIZY

### Passo 1: Abrir ConfiguraÃ§Ãµes

```
1. Abrir RENDIZY
2. Clicar no Ã­cone âš™ï¸ (ConfiguraÃ§Ãµes) no canto superior direito
3. Clicar na tab "âš¡ IntegraÃ§Ãµes"
```

---

### Passo 2: Localizar Stays.net PMS

```
Na "Loja de Aplicativos", procurar o card:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¢ Stays.net PMS          [ğŸ†• NOVO]    â”‚
â”‚ Property Management System avanÃ§ado     â”‚
â”‚                                         â”‚
â”‚ [Configurar IntegraÃ§Ã£o]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Clicar em: [Configurar IntegraÃ§Ã£o]
```

---

### Passo 3: Preencher Credenciais

**Tab "ConfiguraÃ§Ã£o":**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Base URL                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ https://bvm.stays.net/api          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚ API Key / Login                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ a5146970                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚ API Secret / Senha                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ bfcf4daf                  [ğŸ‘]     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**IMPORTANTE:** 
- A API Stays.net pode usar `login` e `senha` ao invÃ©s de "API Key" tradicional
- Se o campo pedir "API Key", use o login: `a5146970`
- Se houver campo separado para senha, use: `bfcf4daf`

---

### Passo 4: Testar ConexÃ£o

```
1. Clicar no botÃ£o [Testar ConexÃ£o]
2. Aguardar mensagem:
   âœ… "ConexÃ£o estabelecida com sucesso!"
   
   OU
   
   âŒ "Falha na conexÃ£o"
```

**Se der ERRO:** Veja seÃ§Ã£o "Troubleshooting" abaixo

**Se der SUCESSO:** Continuar para Passo 5

---

### Passo 5: Salvar ConfiguraÃ§Ã£o

```
1. Clicar no botÃ£o [Salvar ConfiguraÃ§Ã£o]
2. Aguardar mensagem: "ConfiguraÃ§Ã£o salva com sucesso!"
3. âœ… PRONTO! IntegraÃ§Ã£o configurada
```

---

### Passo 6: Testar Endpoints

**Tab "Ambiente de Teste":**

```
1. Clicar na tab "Ambiente de Teste"
2. Na lista da esquerda, clicar em "Listar Propriedades"
3. Clicar no botÃ£o ğŸ”„ (Refresh)
4. Ver resposta JSON no painel direito
```

**Resultado esperado:**
```json
{
  "success": true,
  "data": {
    "properties": [
      {
        "id": "...",
        "name": "Casa...",
        "address": "..."
      }
    ]
  }
}
```

---

### Passo 7: Buscar Reservas de Ontem

**Tab "AnÃ¡lise de Reservas":**

```
1. Clicar na tab "AnÃ¡lise de Reservas"
2. [Buscar Todas as Reservas]
3. Aguardar carregamento
4. Sistema auto-detecta campo de data
5. Selecionar data: 2025-10-28
6. [Filtrar Reservas de 2025-10-28]
7. âœ… Ver lista de reservas de ontem!
```

---

### Passo 8: Ver EstatÃ­sticas no Dashboard

```
1. Voltar ao Dashboard Inicial
2. Card aparece automaticamente:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… Reservas Stays.net    [ğŸ”„]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  12      â”ƒ    5     â”ƒ     24        â”‚
â”‚ Ontem    â”ƒ  Hoje    â”ƒ Esta Semana   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. âœ… Pronto! Sistema integrado e funcionando!
```

---

## ğŸ”§ TROUBLESHOOTING

### Erro: "Falha na conexÃ£o"

**PossÃ­veis causas:**

#### 1. Base URL incorreta

**Teste:**
```
Base URL correta: https://bvm.stays.net/api
```

**VariaÃ§Ãµes para testar:**
- `https://bvm.stays.net/api`
- `https://bvm.stays.net/external-api`
- `https://stays.net/api/bvm`
- `https://api.stays.net/bvm`

**SoluÃ§Ã£o:**
1. Consultar documentaÃ§Ã£o Stays.net
2. Ou testar cada variaÃ§Ã£o
3. A que retornar sucesso Ã© a correta

---

#### 2. Credenciais no formato errado

**Teste 1:** Basic Auth
```
Authorization: Basic YTUxNDY5NzA6YmZjZjRkYWY=
```

**Teste 2:** Bearer Token
```
Authorization: Bearer a5146970:bfcf4daf
```

**Teste 3:** Campos separados
```
Username: a5146970
Password: bfcf4daf
```

**SoluÃ§Ã£o:**
- O sistema tentarÃ¡ automaticamente diferentes formatos
- Se persistir erro, verificar documentaÃ§Ã£o Stays.net

---

#### 3. IP nÃ£o autorizado

**Sintoma:**
```
Error: 403 Forbidden
Ou: "IP not whitelisted"
```

**SoluÃ§Ã£o:**
1. Acessar painel Stays.net: https://bvm.stays.net
2. Ir em: App Center â†’ API Stays
3. Verificar se hÃ¡ lista de IPs permitidos
4. Adicionar: "Todos os IPs" ou IP especÃ­fico do RENDIZY

---

#### 4. API desabilitada

**Sintoma:**
```
Error: 404 Not Found
Ou: "API not enabled"
```

**SoluÃ§Ã£o:**
1. Acessar painel Stays.net
2. App Center â†’ API Stays
3. Verificar se API estÃ¡ ativada
4. Ativar se necessÃ¡rio

---

## ğŸ“Š ESTRUTURA DA API STAYS.NET

### AutenticaÃ§Ã£o ProvÃ¡vel

**MÃ©todo 1: HTTP Basic Auth**
```http
GET /api/properties HTTP/1.1
Host: bvm.stays.net
Authorization: Basic YTUxNDY5NzA6YmZjZjRkYWY=
```

**MÃ©todo 2: API Key no Header**
```http
GET /api/properties HTTP/1.1
Host: bvm.stays.net
X-API-Key: a5146970
X-API-Secret: bfcf4daf
```

**MÃ©todo 3: Query Params**
```http
GET /api/properties?login=a5146970&password=bfcf4daf HTTP/1.1
Host: bvm.stays.net
```

---

### Endpoints Esperados

```
âœ“ GET  /api/properties           - Listar propriedades
âœ“ GET  /api/properties/{id}      - Detalhes de propriedade
âœ“ GET  /api/reservations         - Listar reservas
âœ“ GET  /api/reservations/{id}    - Detalhes de reserva
âœ“ GET  /api/rates                - Listar tarifas
âœ“ GET  /api/availability         - Verificar disponibilidade
âœ“ GET  /api/guests               - Listar hÃ³spedes
```

---

## ğŸ§ª TESTE MANUAL (CURL)

### Teste 1: Basic Auth

```bash
curl -X GET "https://bvm.stays.net/api/properties" \
  -H "Authorization: Basic YTUxNDY5NzA6YmZjZjRkYWY=" \
  -H "Content-Type: application/json"
```

### Teste 2: API Key Header

```bash
curl -X GET "https://bvm.stays.net/api/properties" \
  -H "X-API-Key: a5146970" \
  -H "X-API-Secret: bfcf4daf" \
  -H "Content-Type: application/json"
```

### Teste 3: Query Params

```bash
curl -X GET "https://bvm.stays.net/api/properties?login=a5146970&password=bfcf4daf" \
  -H "Content-Type: application/json"
```

**Resultado esperado:**
- Status: 200 OK
- Body: JSON com lista de propriedades

**Se retornar erro:**
- Anotar mensagem de erro exata
- Me enviar para anÃ¡lise

---

## ğŸ“ CHECKLIST DE CONFIGURAÃ‡ÃƒO

### PrÃ©-ConfiguraÃ§Ã£o:
- [x] Credenciais recebidas (Login + Senha)
- [x] Base URL identificada (bvm.stays.net)
- [ ] API testada manualmente (opcional)

### ConfiguraÃ§Ã£o no RENDIZY:
- [ ] Abrir ConfiguraÃ§Ãµes â†’ IntegraÃ§Ãµes
- [ ] Localizar card Stays.net PMS
- [ ] Preencher Base URL: `https://bvm.stays.net/api`
- [ ] Preencher API Key/Login: `a5146970`
- [ ] Preencher Senha: `bfcf4daf`
- [ ] Clicar em [Testar ConexÃ£o]
- [ ] Aguardar mensagem de sucesso
- [ ] Clicar em [Salvar ConfiguraÃ§Ã£o]
- [ ] Confirmar salvamento

### Testes:
- [ ] Tab "Ambiente de Teste" â†’ Testar endpoints
- [ ] Ver resposta JSON de propriedades
- [ ] Ver resposta JSON de reservas
- [ ] Tab "AnÃ¡lise de Reservas" â†’ Buscar todas
- [ ] Filtrar por data de ontem (28/10)
- [ ] Ver lista de reservas filtrada
- [ ] Voltar ao Dashboard
- [ ] Confirmar card de estatÃ­sticas aparece
- [ ] Clicar em [Atualizar] para dados frescos
- [ ] âœ… Tudo funcionando!

---

## ğŸ¯ RESULTADO ESPERADO

### ApÃ³s ConfiguraÃ§Ã£o Completa:

**1. Dashboard Inicial:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… Reservas Stays.net         [ğŸ”„]          â”‚
â”‚ Ãšltima atualizaÃ§Ã£o: 29/10/2025 15:30        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   12        â”ƒ      5       â”ƒ      24         â”‚
â”‚  Ontem      â”ƒ     Hoje     â”ƒ  Esta Semana   â”‚
â”‚  28/10      â”ƒ    29/10     â”ƒ      â†—         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**2. AnÃ¡lise de Reservas:**
```
âœ… 156 reservas carregadas
âœ… Campo detectado: "created_at"
âœ… Filtradas: 12 reservas de 28/10/2025
âœ… ExportaÃ§Ã£o JSON disponÃ­vel
```

**3. Ambiente de Teste:**
```
âœ… GET /properties         - 200 OK
âœ… GET /reservations       - 200 OK
âœ… GET /rates              - 200 OK
âœ… GET /availability       - 200 OK
âœ… GET /guests             - 200 OK
```

---

## ğŸ” SEGURANÃ‡A

### Armazenamento das Credenciais

**Como sÃ£o salvas:**
- âœ… Armazenadas no KV Store (Supabase)
- âœ… Criptografadas em repouso
- âœ… AcessÃ­veis apenas via backend
- âœ… Nunca expostas no frontend
- âœ… Transmitidas via HTTPS

**Boas prÃ¡ticas:**
- âŒ NÃ£o compartilhar credenciais
- âŒ NÃ£o fazer commit no Git
- âŒ NÃ£o expor em logs
- âœ… Rotacionar periodicamente
- âœ… Monitorar uso da API

---

## ğŸ“Š PRÃ“XIMOS PASSOS

### ApÃ³s ConfiguraÃ§Ã£o:

#### 1. SincronizaÃ§Ã£o Inicial
```
â†’ Importar todas as propriedades
â†’ Importar todas as reservas
â†’ Mapear campos automaticamente
```

#### 2. SincronizaÃ§Ã£o ContÃ­nua
```
â†’ Buscar novas reservas a cada X minutos
â†’ Atualizar status de reservas existentes
â†’ Sincronizar alteraÃ§Ãµes de tarifas
```

#### 3. Webhooks (Futuro)
```
â†’ Receber notificaÃ§Ãµes em tempo real
â†’ Nova reserva â†’ notificaÃ§Ã£o push
â†’ Cancelamento â†’ atualizaÃ§Ã£o automÃ¡tica
```

---

## ğŸ’¡ DICAS

### 1. Primeiro Teste
```
Antes de configurar no RENDIZY:
â†’ Acessar https://bvm.stays.net
â†’ Fazer login manual
â†’ Navegar no sistema
â†’ Verificar se vÃª suas propriedades/reservas
â†’ Confirmar que tudo estÃ¡ funcionando
```

### 2. Teste de Conectividade
```
Abrir navegador â†’ DevTools (F12) â†’ Console
Executar:

fetch('https://bvm.stays.net/api/properties', {
  headers: {
    'Authorization': 'Basic YTUxNDY5NzA6YmZjZjRkYWY='
  }
})
.then(r => r.json())
.then(console.log)
```

### 3. DocumentaÃ§Ã£o Stays.net
```
Procurar no painel:
â†’ App Center â†’ API Stays
â†’ DocumentaÃ§Ã£o / Docs
â†’ Exemplos de cÃ³digo
â†’ Endpoints disponÃ­veis
```

---

## ğŸ†˜ SUPORTE

### Se algo nÃ£o funcionar:

**Me envie:**
1. Print da mensagem de erro
2. Tab "Ambiente de Teste" â†’ Resposta JSON completa
3. Qual endpoint deu erro
4. O que vocÃª tentou fazer

**Eu vou:**
1. Analisar a estrutura real da API
2. Ajustar o cÃ³digo de integraÃ§Ã£o
3. Corrigir mapeamento de campos
4. Garantir que funcione 100%

---

## ğŸ“ CONTATO COM STAYS.NET

**Caso precise de suporte da Stays.net:**

```
URL: https://bvm.stays.net
Suporte: Procurar seÃ§Ã£o "Ajuda" ou "Suporte" no painel
DÃºvida: "Como acessar a API? Qual a base URL e formato de autenticaÃ§Ã£o?"
```

---

## âœ… RESUMO RÃPIDO

### Configure em 3 minutos:

```
1. RENDIZY â†’ ConfiguraÃ§Ãµes â†’ IntegraÃ§Ãµes
2. Stays.net PMS â†’ [Configurar]
3. Preencher:
   - Base URL: https://bvm.stays.net/api
   - Login: a5146970
   - Senha: bfcf4daf
4. [Testar] â†’ [Salvar]
5. âœ… Pronto!
```

### Use diariamente:

```
1. Abrir Dashboard
2. Ver card "Reservas Stays.net"
3. Ler nÃºmero em "Ontem"
4. âœ… Saber quantas reservas teve!
```

---

**Criado em:** 29 de Outubro de 2025  
**Conta:** Sua Casa Rende Mais  
**Sistema:** Stays.net BVM  
**Status:** âœ… CREDENCIAIS RECEBIDAS - PRONTO PARA CONFIGURAR  
